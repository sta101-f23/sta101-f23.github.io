{
  "hash": "613415098aed51708930be2155b059ea",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Issues candidates should talk more about\"\ncategories: \n  - Application exercise\n  - Suggested answers\nfig-width: 6\nfig-asp: 0.618\neditor_options: \n  chunk_output_type: console\n---\n\n\nIn this application exercise, we'll do inference tables – categorical variables with many levels.\n\n# Packages\n\nWe'll use the **tidyverse** and **tidymodels** packages.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(ggthemes)\n```\n:::\n\n\n# Data\n\nA September 16-19, 2023, asked North Carolina voters, among other issues, about issues of equality and women's progress. Specifically, one of the questions asked:\n\n> If you had to choose just one issue that you would like candidates to talk more about in the 2024 campaigns, what would that issue be?\n>\n> -   Economy\n>\n> -   Abortion/Reproductive rights\n>\n> -   Immigration\n>\n> -   Crime\n>\n> -   Gun rights/restrictions\n>\n> -   Something else\n>\n> -   Don't know\n\nThe survey also asked respondents' party affiliation:\n\n> What political party do you most identify with?\n>\n> -   Democrat\n>\n> -   Republican\n>\n> -   Unaffiliated\n>\n> -   Other\n\nThe results of this survey are summarized [in this report](https://www.meredith.edu/meredith-poll/n-c-voter-opinions-on-abortion-law-women-leaders-and-other-current-issues/) and the data can be found in your `data` folder: `candidate-talk.csv`.\n\n# Hypotheses\n\n## Exercise 1\n\nState the hypotheses for evaluating whether the issue of choice is independent of party affiliation.\n\n*H0: Issue of choice and party affiliation are independent.*\n\n*HA: Issue of choice and party affiliation are independent.*\n\n# Data\n\n## Exercise 2\n\nLoad the data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncandidate_talk <- read_csv(\"data/candidate-talk.csv\")\n```\n:::\n\n\n## Exercise 3\n\nCreate a 2x2 table of the responses across the two age groups and visualize the frequency distribution.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncandidate_talk <- candidate_talk |>\n  mutate(\n    party = fct_relevel(party, \"Democrat\", \"Republican\", \"Unaffiliated\", \"Other\"),\n    issue = fct_relevel(issue, \"Abortion/Reproductive rights\", \"Crime\", \"Economy\", \"Gun rights/restrictions\", \"Immigration\", \"Something else\", \"Don't know\")\n  )\n\ncandidate_talk_table <- candidate_talk |>\n  count(party, issue) |>\n  pivot_wider(names_from = \"issue\", values_from = \"n\")\n\ncandidate_talk_table\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 8\n  party  Abortion/Reproductiv…¹ Crime Economy Gun rights/restricti…² Immigration\n  <fct>                   <int> <int>   <int>                  <int>       <int>\n1 Democ…                     70    22      94                     59          10\n2 Repub…                     21    35     138                     14          76\n3 Unaff…                     20    10      79                     16          20\n4 Other                       4     4      14                      4           5\n# ℹ abbreviated names: ¹​`Abortion/Reproductive rights`,\n#   ²​`Gun rights/restrictions`\n# ℹ 2 more variables: `Something else` <int>, `Don't know` <int>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(candidate_talk, aes(x = party, fill = issue)) +\n  geom_bar() +\n  scale_fill_colorblind()\n```\n\n::: {.cell-output-display}\n![](ae-14-candidate-talk-sa_files/figure-html/freq-plot-1.png){width=960}\n:::\n:::\n\n\n## Exercise 4\n\nWhich do you think should be the explanatory variable and which the response variable? Accordingly, create a visualization that shows the correct conditional probabilities.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(candidate_talk, aes(x = party, fill = issue)) +\n  geom_bar(position = \"fill\") +\n  scale_fill_colorblind()\n```\n\n::: {.cell-output-display}\n![](ae-14-candidate-talk-sa_files/figure-html/prop-plot-1.png){width=960}\n:::\n:::\n\n\n# Testing\n\n## Exercise 5\n\nCalculate the observed sample statistic.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobs_stat <- candidate_talk |>\n  specify(response = issue, explanatory = party) |>\n  hypothesize(null = \"independence\") |>\n  calculate(stat = \"Chisq\")\n\nobs_stat\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nResponse: issue (factor)\nExplanatory: party (factor)\nNull Hypothesis: independence\n# A tibble: 1 × 1\n   stat\n  <dbl>\n1  144.\n```\n\n\n:::\n:::\n\n\n## Exercise 6\n\nConduct the hypothesis test using randomization and visualize and report the p-value.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1234)\n\nnull_dist <- candidate_talk |>\n  specify(response = issue, explanatory = party) |>\n  hypothesize(null = \"independence\") |>\n  generate(reps = 1000, type = \"permute\") |>\n  calculate(stat = \"Chisq\")\n\nnull_dist |>\n  get_p_value(obs_stat = obs_stat, direction = \"greater\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Please be cautious in reporting a p-value of 0. This result is an\napproximation based on the number of `reps` chosen in the `generate()` step.\nSee `?get_p_value()` for more information.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 1\n  p_value\n    <dbl>\n1       0\n```\n\n\n:::\n\n```{.r .cell-code}\nnull_dist |>\n  visualize() +\n  shade_p_value(obs_stat = obs_stat, direction = \"greater\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in min(diff(unique_loc)): no non-missing arguments to min; returning\nInf\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](ae-14-candidate-talk-sa_files/figure-html/hyp-test-1.png){width=576}\n:::\n:::\n\n\n## Exercise 7\n\nWhat is the conclusion of the hypothesis test?\n\n*With a p-value of approximately 0, which is smaller than the discernability level of 0.05, we reject the null hypothesis. The data provide convincing evidence that there is a relationship between party affiliation and issues voters want candidates to discuss.*\n",
    "supporting": [
      "ae-14-candidate-talk-sa_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}